# 山楂串求解器

- 游戏链接：http://www.wesane.com/game/848/

- 游戏规则：

  1. 游戏中有6根竹签，每根竹签最多可以串7个珠子。

  2. 珠子的等级分为1-8共8个等级，每3个或4个相邻的相同等级的珠子可以合成一个更高等级的珠子。3个等级为8的珠子可以合成一串山楂串（并移除），同时左上角的成绩+1。

  3. 玩家每次可以将一根竹签最上面的珠子移动到另一根竹签上，如果最上面有两个相同等级的珠子，则可以同时移动两个。如果竹签上没有珠子，则无法移动。

  4. 每4次移动，竹签上方会提示落下新的珠子，并且会在下一次移动完成后掉落。

  5. 有任何一根竹签上的珠子数超过7且无法合并则游戏结束。

- How to run

  - cpp求解

  ```shell
  cd ./cpp
  g++ ./main.cpp -std=c++11 -O2
  ./a.out
  cd ..
  ```
  - py求解

  ```shell
  cd ./py
  python3 main.py
  ```

  - lua求解

  ```shell
  cd ./lua
  lua test.lua
  ```

- TODO List

  1. 实现C++的多线程版本

  2. 实现在python中调用C++代码

  3. 实现自动OCR和模拟鼠标点击自动打游戏

  4. 使用强化学习或者深度学习

  5. 能够完成图形界面，提供更好的游戏体验

  6. 3A5000笔记本对比

- 性能

|               | Loongson3A5000 | ThinkPad P51 |
| ------------- | -------------- | ------------ |
| CPP单线程     | 0.565s         | 0.219s       |
| python3多线程 | 51.18s         | 21.26s       |
| lua5.2        | 8.524s         | 4.265s       |
| python3单线程 | 71.59s         | 28.98s       |

